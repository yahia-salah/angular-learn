<form [formGroup]="form">
  <div class="form-group">
    <label for="oldpassword">Old Password</label
    ><input
      formControlName="oldpassword"
      type="password"
      id="oldpassword"
      class="form-control"
    />
    <div *ngIf="oldpassword.pending">Comparing...</div>
    <div
      *ngIf="oldpassword?.touched && oldpassword?.invalid"
      class="alert alert-danger"
    >
      <div *ngIf="oldpassword?.errors?.required">Old Password is required</div>
      <div *ngIf="oldpassword?.errors?.minlength">
        Old Password should be at least
        {{ oldpassword?.errors?.minlength?.requiredLength }} characters
      </div>
      <div *ngIf="oldpassword?.errors?.oldPasswordMismatch">
        Old Password is incorrect
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="newpassword">New Password</label
    ><input
      formControlName="newpassword"
      type="password"
      id="newpassword"
      class="form-control"
    />
    <div
      *ngIf="newpassword?.touched && newpassword?.invalid"
      class="alert alert-danger"
    >
      <div *ngIf="newpassword?.errors?.required">New Password is required</div>
      <div *ngIf="newpassword?.errors?.minlength">
        New Password should be at least
        {{ newpassword?.errors?.minlength?.requiredLength }} characters
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="confirmpassword">Confirm Password</label
    ><input
      formControlName="confirmpassword"
      type="password"
      id="confirmpassword"
      class="form-control"
    />
    <div
      *ngIf="confirmpassword?.touched && confirmpassword?.invalid"
      class="alert alert-danger"
    >
      <div *ngIf="confirmpassword?.errors?.required">
        Confirm Password is required
      </div>
      <div *ngIf="confirmpassword?.errors?.minlength">
        Confirm Password should be at least
        {{ confirmpassword?.errors?.minlength?.requiredLength }} characters
      </div>
    </div>
    <div
      *ngIf="
        confirmpassword.valid &&
        newpassword.valid &&
        form.invalid &&
        form.errors?.confrimPasswordMismatch
      "
      class="alert alert-danger"
    >
      Confirm Password doesn't match New Password
    </div>
  </div>
  <button class="btn btn-primary" [disabled]="form.invalid">
    Reset Password
  </button>
</form>
